/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates
/// and other contributors as indicated by the @author tags.
///
/// Licensed under the Apache License, Version 2.0 (the "License");
/// you may not use this file except in compliance with the License.
/// You may obtain a copy of the License at
///
///   http://www.apache.org/licenses/LICENSE-2.0
///
/// Unless required by applicable law or agreed to in writing, software
/// distributed under the License is distributed on an "AS IS" BASIS,
/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
/// See the License for the specific language governing permissions and
/// limitations under the License.


var HawkularMetrics;
(function (HawkularMetrics) {
    HawkularMetrics.pluginName = "hawkular-metrics";
    HawkularMetrics.log = Logger.get(HawkularMetrics.pluginName);
    HawkularMetrics.templatePath = "plugins/metrics/html";
    HawkularMetrics.globalTenantId = "test";
    HawkularMetrics.globalResourceId = "";
    HawkularMetrics.globalResourceUrl = "";
    HawkularMetrics.globalResourceList = [];
    HawkularMetrics.globalChartTimeRange;
    var ChartTimeRange = (function () {
        function ChartTimeRange(initialHoursDifference) {
            this.initialHoursDifference = initialHoursDifference;
            this.init();
        }
        ChartTimeRange.prototype.init = function () {
            this.endTimestamp = moment().valueOf();
            this.startTimestamp = moment().subtract('hour', this.initialHoursDifference).valueOf();
        };
        ChartTimeRange.prototype.getStartDate = function () {
            return new Date(this.startTimestamp);
        };
        ChartTimeRange.prototype.getEndDate = function () {
            return new Date(this.endTimestamp);
        };
        ChartTimeRange.prototype.getFormattedTimeRange = function () {
            return moment(this.startTimestamp).format('H:mm') + ' - ' + moment(this.endTimestamp).format('H:mm') + ' (' + moment(this.endTimestamp).from(moment(this.startTimestamp), true) + ')';
        };
        return ChartTimeRange;
    })();
    HawkularMetrics.ChartTimeRange = ChartTimeRange;
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    HawkularMetrics._module = angular.module(HawkularMetrics.pluginName, ['ngResource', 'ui.select', 'hawkularCharts', 'hawkular.services']);
    var metricsTab;
    HawkularMetrics._module.config(['$httpProvider', '$locationProvider', '$routeProvider', 'HawtioNavBuilderProvider', function ($httpProvider, $locationProvider, $routeProvider, navBuilder) {
        metricsTab = navBuilder.create().id(HawkularMetrics.pluginName).title(function () { return "Metrics"; }).href(function () { return "/metrics"; }).subPath("Add Url", "addUrl", navBuilder.join(HawkularMetrics.templatePath, 'add-url.html')).subPath("Home", "home", navBuilder.join(HawkularMetrics.templatePath, 'home.html')).subPath("Response Time", "responseTime", navBuilder.join(HawkularMetrics.templatePath, 'response-time.html')).subPath("Up/Downtime", "upDowntime", navBuilder.join(HawkularMetrics.templatePath, 'up-downtime.html')).subPath("Alerts", "alerts", navBuilder.join(HawkularMetrics.templatePath, 'alerts.html')).build();
        navBuilder.configureRouting($routeProvider, metricsTab);
        $locationProvider.html5Mode(true);
    }]);
    HawkularMetrics._module.run(['HawtioNav', function (HawtioNav) {
        HawtioNav.add(metricsTab);
        HawkularMetrics.log.debug("loaded Metrics Plugin");
    }]);
    HawkularMetrics._module.directive('ngEnter', function () {
        return function (scope, element, attrs) {
            element.bind("keydown keypress", function (event) {
                if (event.which === 13) {
                    scope.$apply(function () {
                        scope.$eval(attrs.ngEnter);
                    });
                    event.preventDefault();
                }
            });
        };
    });
    hawtioPluginLoader.addModule(HawkularMetrics.pluginName);
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    var AddUrlController = (function () {
        function AddUrlController($location, $scope, $rootScope, $log, HawkularInventory, resourceUrl) {
            this.$location = $location;
            this.$scope = $scope;
            this.$rootScope = $rootScope;
            this.$log = $log;
            this.HawkularInventory = HawkularInventory;
            this.resourceUrl = resourceUrl;
            this.httpUriPart = 'http://';
            $scope.vm = this;
            this.resourceUrl = this.httpUriPart;
        }
        AddUrlController.prototype.addUrl = function (url) {
            var _this = this;
            var resource = {
                type: 'URL',
                id: '',
                parameters: {
                    url: url
                }
            };
            this.$log.info("Adding new Resource Url to Hawkular-inventory: " + url);
            HawkularMetrics.globalChartTimeRange = new HawkularMetrics.ChartTimeRange(1);
            this.HawkularInventory.Resource.save({ tenantId: HawkularMetrics.globalTenantId }, resource).$promise.then(function (newResource) {
                HawkularMetrics.globalResourceId = newResource.id;
                HawkularMetrics.globalResourceUrl = resource.parameters.url;
                console.dir(newResource);
                _this.$log.info("New Resource ID: " + HawkularMetrics.globalResourceId + " created for url: " + HawkularMetrics.globalResourceUrl);
                var metrics = [{
                    name: HawkularMetrics.globalResourceId + '.status.duration',
                    unit: 'MILLI_SECOND',
                    description: 'Response Time in ms.'
                }, {
                    name: HawkularMetrics.globalResourceId + '.status.code',
                    unit: 'NONE',
                    description: 'Status Code'
                }];
                _this.HawkularInventory.Metric.save({
                    tenantId: HawkularMetrics.globalTenantId,
                    resourceId: newResource.id
                }, metrics).$promise.then(function (newMetrics) {
                    toastr.info("Your data is being collected. Please be patient (should be about another minute).");
                    _this.$location.url("/metrics/responseTime");
                });
            });
        };
        AddUrlController.$inject = ['$location', '$scope', '$rootScope', '$log', 'HawkularInventory'];
        return AddUrlController;
    })();
    HawkularMetrics.AddUrlController = AddUrlController;
    HawkularMetrics._module.controller('HawkularMetrics.AddUrlController', AddUrlController);
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    var QuickAlertController = (function () {
        function QuickAlertController($scope, HawkularAlert, $log, $q) {
            this.$scope = $scope;
            this.HawkularAlert = HawkularAlert;
            this.$log = $log;
            this.$q = $q;
            this.PROMISE_BREAK = 'magicValue1234';
            this.$scope.showQuickAlert = false;
            this.$scope.quickTrigger = {
                operator: 'LT',
                threshold: 0
            };
            this.allActions();
        }
        QuickAlertController.prototype.toggleQuickAlert = function () {
            this.$scope.showQuickAlert = !this.$scope.showQuickAlert;
        };
        QuickAlertController.prototype.allActions = function () {
            var _this = this;
            this.$scope.actions = [];
            this.HawkularAlert.Action.query(function (result) {
                _this.$scope.actions = result;
            }, function (error) {
                _this.errorToastr(error, 'Error loading Alerts Notifiers:');
            });
        };
        QuickAlertController.prototype.errorToastr = function (error, errorMsg) {
            var errorMsgComplete;
            if (error.data && error.data.errorMsg) {
                errorMsgComplete = error.data.errorMsg;
            }
            else {
                errorMsgComplete = errorMsg + ' ' + error;
            }
            this.$log.error(errorMsgComplete);
            toastr.error(errorMsgComplete);
        };
        QuickAlertController.prototype.errorHandler = function (error, msg) {
            if (error !== this.PROMISE_BREAK) {
                this.errorToastr(error, msg);
            }
            return this.$q.reject(this.PROMISE_BREAK);
        };
        QuickAlertController.prototype.saveQuickAlert = function () {
            var _this = this;
            if (HawkularMetrics.sharedMetricId !== '.status.duration' && HawkularMetrics.sharedMetricId !== '.status.code') {
                var newTrigger = {};
                newTrigger.name = HawkularMetrics.sharedMetricId + 'ResponseTime' + '-' + this.$scope.quickTrigger.operator + '-' + this.$scope.quickTrigger.threshold;
                newTrigger.description = 'Created on ' + new Date();
                newTrigger.firingMatch = 'ALL';
                newTrigger.safetyMatch = 'ALL';
                newTrigger.enabled = true;
                newTrigger.safetyEnabled = false;
                newTrigger.actions = this.$scope.quickTrigger.actions;
                var newDampening = {
                    triggerId: '',
                    type: 'RELAXED_COUNT',
                    evalTrueSetting: 1,
                    evalTotalSetting: 1,
                    evalTimeSetting: 0
                };
                this.HawkularAlert.Trigger.save(newTrigger).$promise.then(function (trigger) {
                    _this.$log.debug('Success Trigger save');
                    newDampening.triggerId = trigger.id;
                    return _this.HawkularAlert.Dampening.save({ triggerId: newDampening.triggerId }, newDampening).$promise;
                }, function (error) {
                    return _this.errorHandler(error, 'Error saving Trigger');
                }).then(function (dampening) {
                    _this.$log.debug('Success Dampening save', dampening);
                    var newThresholdCondition = {
                        triggerId: dampening.triggerId,
                        type: 'THRESHOLD',
                        dataId: HawkularMetrics.sharedMetricId,
                        operator: _this.$scope.quickTrigger.operator,
                        threshold: _this.$scope.quickTrigger.threshold
                    };
                    return _this.HawkularAlert.Condition.save({ triggerId: newThresholdCondition.triggerId }, newThresholdCondition).$promise;
                }, function (errorDampening) {
                    return _this.errorHandler(errorDampening, 'Error saving Trigger');
                }).then(function () {
                    _this.$log.debug('Success ThresholdCondition save');
                    _this.$log.debug('Alert Created!');
                    toastr.success('Alert Created!');
                    _this.toggleQuickAlert();
                    return _this.HawkularAlert.Alert.reload().$promise;
                }, function (errorCondition) {
                    return _this.errorHandler(errorCondition, 'Error saving Trigger Condition');
                }).then(angular.noop, function (errorReload) {
                    return _this.errorHandler(errorReload, 'Error reloading Alerts');
                }).catch(function (error) {
                    _this.errorHandler(error, 'Error:');
                });
            }
            else {
                this.$log.debug('No metric selected');
                toastr.warning('No metric selected');
            }
        };
        QuickAlertController.$inject = ['$scope', 'HawkularAlert', '$log', '$q'];
        return QuickAlertController;
    })();
    HawkularMetrics.QuickAlertController = QuickAlertController;
    HawkularMetrics._module.controller('QuickAlertController', QuickAlertController);
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    HawkularMetrics.sharedMetricId;
    var MetricsViewController = (function () {
        function MetricsViewController($scope, $rootScope, $interval, $log, HawkularMetric, HawkularInventory, startTimeStamp, endTimeStamp, dateRange) {
            var _this = this;
            this.$scope = $scope;
            this.$rootScope = $rootScope;
            this.$interval = $interval;
            this.$log = $log;
            this.HawkularMetric = HawkularMetric;
            this.HawkularInventory = HawkularInventory;
            this.startTimeStamp = startTimeStamp;
            this.endTimeStamp = endTimeStamp;
            this.dateRange = dateRange;
            this.bucketedDataPoints = [];
            this.contextDataPoints = [];
            this.isResponseTab = true;
            this._resourceList = [];
            $scope.vm = this;
            this.startTimeStamp = moment().subtract(1, 'hours').toDate();
            this.endTimeStamp = new Date();
            this.dateRange = moment(this.startTimeStamp).format('H:mm') + ' - ' + moment(this.endTimeStamp).format('H:mm') + ' (' + moment(this.endTimeStamp).from(moment(this.startTimeStamp), true) + ')';
            $scope.$on('RefreshChart', function (event) {
                $scope.vm.refreshChartDataNow(_this.getMetricId());
            });
            $scope.$watch('vm.selectedResource', function (resource) {
                if (resource) {
                    HawkularMetrics.globalResourceId = resource.id;
                    $scope.vm.refreshChartDataNow(_this.getMetricId());
                }
                else {
                    HawkularMetrics.globalResourceList = _this.HawkularInventory.Resource.query({ tenantId: HawkularMetrics.globalTenantId }).$promise.then(function (resources) {
                        _this.resourceList = resources;
                        _this.selectedResource = resources[resources.length - 1];
                        $scope.vm.refreshChartDataNow(_this.getMetricId());
                    });
                }
            });
            $scope.vm.onCreate();
        }
        Object.defineProperty(MetricsViewController.prototype, "resourceList", {
            get: function () {
                return this._resourceList;
            },
            set: function (newResourceList) {
                HawkularMetrics.globalResourceList = newResourceList;
                this._resourceList = newResourceList;
            },
            enumerable: true,
            configurable: true
        });
        MetricsViewController.prototype.onCreate = function () {
            var _this = this;
            this.autoRefresh(60);
            this.HawkularInventory.Resource.query({ tenantId: HawkularMetrics.globalTenantId }, function (aResourceList) {
                _this.resourceList = aResourceList;
                _this.selectedResource = _this.resourceList[_this.resourceList.length - 1];
                _this.refreshChartDataNow(_this.getMetricId());
            });
        };
        MetricsViewController.prototype.cancelAutoRefresh = function () {
            this.$interval.cancel(this.autoRefreshPromise);
            toastr.info('Canceling Auto Refresh');
        };
        MetricsViewController.prototype.autoRefresh = function (intervalInSeconds) {
            var _this = this;
            this.refreshHistoricalChartDataForTimestamp(this.getMetricId());
            this.autoRefreshPromise = this.$interval(function () {
                _this.endTimeStamp = new Date();
                _this.refreshHistoricalChartDataForTimestamp(_this.getMetricId());
            }, intervalInSeconds * 1000);
            this.$scope.$on('$destroy', function () {
                _this.$interval.cancel(_this.autoRefreshPromise);
            });
        };
        MetricsViewController.prototype.noDataFoundForId = function (id) {
            this.$log.warn('No Data found for id: ' + id);
        };
        MetricsViewController.prototype.refreshChartDataNow = function (metricId, startTime) {
            var adjStartTimeStamp = moment().subtract('hours', 1).toDate();
            this.endTimeStamp = new Date();
            this.refreshHistoricalChartData(metricId, angular.isUndefined(startTime) ? adjStartTimeStamp : startTime, this.endTimeStamp);
        };
        MetricsViewController.prototype.refreshHistoricalChartData = function (metricId, startDate, endDate) {
            this.refreshHistoricalChartDataForTimestamp(metricId, startDate.getTime(), endDate.getTime());
        };
        MetricsViewController.prototype.getMetricId = function () {
            var metricId = this.isResponseTab ? MetricsViewController.getResourceDurationMetricId() : MetricsViewController.getResourceCodeMetricId();
            HawkularMetrics.sharedMetricId = metricId;
            return metricId;
        };
        MetricsViewController.getResourceDurationMetricId = function () {
            return HawkularMetrics.globalResourceId + '.status.duration';
        };
        MetricsViewController.getResourceCodeMetricId = function () {
            return HawkularMetrics.globalResourceId + '.status.code';
        };
        MetricsViewController.prototype.getChartType = function () {
            return this.isResponseTab ? 'hawkulararea' : 'histogram';
        };
        MetricsViewController.prototype.getYAxisUnits = function () {
            return this.isResponseTab ? 'Response time (ms)' : 'Status Code';
        };
        MetricsViewController.prototype.responseTabClick = function () {
            this.isResponseTab = !this.isResponseTab;
            this.refreshChartDataNow(this.getMetricId());
        };
        MetricsViewController.prototype.refreshHistoricalChartDataForTimestamp = function (metricId, startTime, endTime) {
            var _this = this;
            if (!endTime) {
                endTime = this.endTimeStamp.getTime();
            }
            if (!startTime) {
                startTime = this.startTimeStamp.getTime();
            }
            if (metricId) {
                this.HawkularMetric.NumericMetricData.queryMetrics({
                    tenantId: HawkularMetrics.globalTenantId,
                    numericId: metricId,
                    start: startTime,
                    end: endTime,
                    buckets: 60
                }).$promise.then(function (response) {
                    _this.bucketedDataPoints = _this.formatBucketedChartOutput(response);
                    console.dir(_this.bucketedDataPoints);
                    if (_this.bucketedDataPoints.length) {
                        _this.chartData = {
                            id: metricId,
                            startTimeStamp: _this.startTimeStamp,
                            endTimeStamp: _this.endTimeStamp,
                            dataPoints: _this.bucketedDataPoints,
                            contextDataPoints: _this.contextDataPoints,
                            annotationDataPoints: []
                        };
                    }
                    else {
                        _this.noDataFoundForId(_this.getMetricId());
                    }
                }, function (error) {
                    _this.$log.error('Error Loading Chart data');
                    toastr.error('Error Loading Chart Data: ' + error);
                });
            }
        };
        MetricsViewController.prototype.formatBucketedChartOutput = function (response) {
            return _.map(response.data, function (point) {
                return {
                    timestamp: point.timestamp,
                    date: new Date(point.timestamp),
                    value: !angular.isNumber(point.value) ? 0 : point.value,
                    avg: (point.empty) ? 0 : point.avg,
                    min: !angular.isNumber(point.min) ? 0 : point.min,
                    max: !angular.isNumber(point.max) ? 0 : point.max,
                    empty: point.empty
                };
            });
        };
        MetricsViewController.$inject = ['$scope', '$rootScope', '$interval', '$log', 'HawkularMetric', 'HawkularInventory'];
        return MetricsViewController;
    })();
    HawkularMetrics.MetricsViewController = MetricsViewController;
    HawkularMetrics._module.controller('MetricsViewController', MetricsViewController);
})(HawkularMetrics || (HawkularMetrics = {}));

var HawkularMetrics;
(function (HawkularMetrics) {
    HawkularMetrics.OverviewController = HawkularMetrics._module.controller("HawkularMetrics.OverviewController", ['$scope', function ($scope) {
        $scope.overview = "Over View";
    }]);
})(HawkularMetrics || (HawkularMetrics = {}));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluY2x1ZGVzLmpzIiwiL29wdC9naXQvaGF3a3VsYXItdWktY29tcG9uZW50cy9tZXRyaWNzL3RzL21ldHJpY3NHbG9iYWxzLnRzIiwiL29wdC9naXQvaGF3a3VsYXItdWktY29tcG9uZW50cy9tZXRyaWNzL3RzL21ldHJpY3NQbHVnaW4udHMiLCIvb3B0L2dpdC9oYXdrdWxhci11aS1jb21wb25lbnRzL21ldHJpY3MvdHMvYWRkVXJsUGFnZS50cyIsIi9vcHQvZ2l0L2hhd2t1bGFyLXVpLWNvbXBvbmVudHMvbWV0cmljcy90cy9tZXRyaWNzUmVzcG9uc2VBbGVydEZvcm0udHMiLCIvb3B0L2dpdC9oYXdrdWxhci11aS1jb21wb25lbnRzL21ldHJpY3MvdHMvbWV0cmljc1Jlc3BvbnNlUGFnZS50cyIsIi9vcHQvZ2l0L2hhd2t1bGFyLXVpLWNvbXBvbmVudHMvbWV0cmljcy90cy9vdmVydmlld1BhZ2UudHMiXSwibmFtZXMiOlsiSGF3a3VsYXJNZXRyaWNzIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlLmNvbnN0cnVjdG9yIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlLmluaXQiLCJIYXdrdWxhck1ldHJpY3MuQ2hhcnRUaW1lUmFuZ2UuZ2V0U3RhcnREYXRlIiwiSGF3a3VsYXJNZXRyaWNzLkNoYXJ0VGltZVJhbmdlLmdldEVuZERhdGUiLCJIYXdrdWxhck1ldHJpY3MuQ2hhcnRUaW1lUmFuZ2UuZ2V0Rm9ybWF0dGVkVGltZVJhbmdlIiwiSGF3a3VsYXJNZXRyaWNzLkFkZFVybENvbnRyb2xsZXIiLCJIYXdrdWxhck1ldHJpY3MuQWRkVXJsQ29udHJvbGxlci5jb25zdHJ1Y3RvciIsIkhhd2t1bGFyTWV0cmljcy5BZGRVcmxDb250cm9sbGVyLmFkZFVybCIsIkhhd2t1bGFyTWV0cmljcy5RdWlja0FsZXJ0Q29udHJvbGxlciIsIkhhd2t1bGFyTWV0cmljcy5RdWlja0FsZXJ0Q29udHJvbGxlci5jb25zdHJ1Y3RvciIsIkhhd2t1bGFyTWV0cmljcy5RdWlja0FsZXJ0Q29udHJvbGxlci50b2dnbGVRdWlja0FsZXJ0IiwiSGF3a3VsYXJNZXRyaWNzLlF1aWNrQWxlcnRDb250cm9sbGVyLmFsbEFjdGlvbnMiLCJIYXdrdWxhck1ldHJpY3MuUXVpY2tBbGVydENvbnRyb2xsZXIuZXJyb3JUb2FzdHIiLCJIYXdrdWxhck1ldHJpY3MuUXVpY2tBbGVydENvbnRyb2xsZXIuZXJyb3JIYW5kbGVyIiwiSGF3a3VsYXJNZXRyaWNzLlF1aWNrQWxlcnRDb250cm9sbGVyLnNhdmVRdWlja0FsZXJ0IiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlciIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIuY29uc3RydWN0b3IiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLnJlc291cmNlTGlzdCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIub25DcmVhdGUiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmNhbmNlbEF1dG9SZWZyZXNoIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5hdXRvUmVmcmVzaCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIubm9EYXRhRm91bmRGb3JJZCIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIucmVmcmVzaENoYXJ0RGF0YU5vdyIsIkhhd2t1bGFyTWV0cmljcy5NZXRyaWNzVmlld0NvbnRyb2xsZXIucmVmcmVzaEhpc3RvcmljYWxDaGFydERhdGEiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmdldE1ldHJpY0lkIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5nZXRSZXNvdXJjZUR1cmF0aW9uTWV0cmljSWQiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmdldFJlc291cmNlQ29kZU1ldHJpY0lkIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5nZXRDaGFydFR5cGUiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLmdldFlBeGlzVW5pdHMiLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLnJlc3BvbnNlVGFiQ2xpY2siLCJIYXdrdWxhck1ldHJpY3MuTWV0cmljc1ZpZXdDb250cm9sbGVyLnJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhRm9yVGltZXN0YW1wIiwiSGF3a3VsYXJNZXRyaWNzLk1ldHJpY3NWaWV3Q29udHJvbGxlci5mb3JtYXRCdWNrZXRlZENoYXJ0T3V0cHV0Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FDZ0JBLElBQU8sZUFBZSxDQXVEckI7QUF2REQsV0FBTyxlQUFlLEVBQUMsQ0FBQztJQUdYQSwwQkFBVUEsR0FBR0Esa0JBQWtCQSxDQUFDQTtJQUVoQ0EsbUJBQUdBLEdBQWtCQSxNQUFNQSxDQUFDQSxHQUFHQSxDQUFDQSwwQkFBVUEsQ0FBQ0EsQ0FBQ0E7SUFFNUNBLDRCQUFZQSxHQUFHQSxzQkFBc0JBLENBQUNBO0lBTXRDQSw4QkFBY0EsR0FBR0EsTUFBTUEsQ0FBQ0E7SUFFeEJBLGdDQUFnQkEsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFDdEJBLGlDQUFpQkEsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFFdkJBLGtDQUFrQkEsR0FBR0EsRUFBRUEsQ0FBQ0E7SUFFeEJBLG9DQUFtQ0EsQ0FBQ0E7SUFFL0NBLElBQWFBLGNBQWNBO1FBSXpCQyxTQUpXQSxjQUFjQSxDQUlMQSxzQkFBNkJBO1lBQTdCQywyQkFBc0JBLEdBQXRCQSxzQkFBc0JBLENBQU9BO1lBRS9DQSxJQUFJQSxDQUFDQSxJQUFJQSxFQUFFQSxDQUFDQTtRQUNkQSxDQUFDQTtRQUVERCw2QkFBSUEsR0FBSkE7WUFDRUUsSUFBSUEsQ0FBQ0Es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QUFPLGVBQWUsQ0FRckI7QUFSRCxXQUFPLGVBQWUsRUFBQyxDQUFDO0lBR1hBLGtDQUFrQkEsR0FBR0EsdUJBQU9BLENBQUNBLFVBQVVBLENBQUNBLG9DQUFvQ0EsRUFBRUEsQ0FBQ0EsUUFBUUEsRUFBRUEsVUFBQ0EsTUFBTUE7UUFDekdBLE1BQU1BLENBQUNBLFFBQVFBLEdBQUdBLFdBQVdBLENBQUNBO0lBRWhDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtBQUVOQSxDQUFDQSxFQVJNLGVBQWUsS0FBZixlQUFlLFFBUXJCIiwiZmlsZSI6ImNvbXBpbGVkLmpzIiwic291cmNlc0NvbnRlbnQiOltudWxsLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuXG5tb2R1bGUgSGF3a3VsYXJNZXRyaWNzIHtcblxuICAvLy8gc29tZSBjb25maWcgdmFyc1xuICBleHBvcnQgdmFyIHBsdWdpbk5hbWUgPSBcImhhd2t1bGFyLW1ldHJpY3NcIjtcblxuICBleHBvcnQgdmFyIGxvZzpMb2dnaW5nLkxvZ2dlciA9IExvZ2dlci5nZXQocGx1Z2luTmFtZSk7XG5cbiAgZXhwb3J0IHZhciB0ZW1wbGF0ZVBhdGggPSBcInBsdWdpbnMvbWV0cmljcy9odG1sXCI7XG5cblxuICAvLy8gVGhlc2UgYXJlIHBsdWdpbiBnbG9iYWxzIHVzZWQgYWNyb3NzIHNldmVyYWwgc2NyZWVucyAodGhpbmsgc2Vzc2lvbiB2YXJzIGZyb20gc2VydmVyIHNpZGUgcHJvZ3JhbW1pbmcpXG5cbiAgLy8vIEB0b2RvOiB0aGlzIHdpbGwgZ28gYXdheSBvbmNlIHdlIGhhdmUgS2V5Q2xvYWsgaW50ZWdyYXRpb25cbiAgZXhwb3J0IHZhciBnbG9iYWxUZW5hbnRJZCA9IFwidGVzdFwiO1xuXG4gIGV4cG9ydCB2YXIgZ2xvYmFsUmVzb3VyY2VJZCA9IFwiXCI7XG4gIGV4cG9ydCB2YXIgZ2xvYmFsUmVzb3VyY2VVcmwgPSBcIlwiO1xuXG4gIGV4cG9ydCB2YXIgZ2xvYmFsUmVzb3VyY2VMaXN0ID0gW107XG5cbiAgZXhwb3J0IHZhciBnbG9iYWxDaGFydFRpbWVSYW5nZTpDaGFydFRpbWVSYW5nZTtcblxuICBleHBvcnQgY2xhc3MgQ2hhcnRUaW1lUmFuZ2Uge1xuICAgIHN0YXJ0VGltZXN0YW1wOm51bWJlcjtcbiAgICBlbmRUaW1lc3RhbXA6bnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBpbml0aWFsSG91cnNEaWZmZXJlbmNlOm51bWJlcikge1xuICAgICAgLy8vIGp1c3Qgc2V0IGEgZGVmYXVsdCBpZiBubyBjdG9ycyBnaXZlblxuICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgaW5pdCgpIHtcbiAgICAgIHRoaXMuZW5kVGltZXN0YW1wID0gbW9tZW50KCkudmFsdWVPZigpO1xuICAgICAgdGhpcy5zdGFydFRpbWVzdGFtcCA9IG1vbWVudCgpLnN1YnRyYWN0KCdob3VyJywgdGhpcy5pbml0aWFsSG91cnNEaWZmZXJlbmNlKS52YWx1ZU9mKCk7XG4gICAgfVxuXG4gICAgZ2V0U3RhcnREYXRlKCk6RGF0ZSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5zdGFydFRpbWVzdGFtcCk7XG4gICAgfVxuXG4gICAgZ2V0RW5kRGF0ZSgpOkRhdGUge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuZW5kVGltZXN0YW1wKTtcbiAgICB9XG5cbiAgICBnZXRGb3JtYXR0ZWRUaW1lUmFuZ2UoKTpzdHJpbmcge1xuICAgICAgLy8vQHRvZG86IGlmIGxlc3MgPCAyNCBociBzaG93IHRpbWVzIG90aGVyd2lzZSBkYXRlc1xuICAgICAgLy8vcmV0dXJuIG1vbWVudCh0aGlzLnN0YXJ0VGltZXN0YW1wKS5mb3JtYXQoJ01NTSBkbycpICsgJyAtICcgKyBtb21lbnQodGhpcy5lbmRUaW1lc3RhbXApLmZvcm1hdCgnTU1NIGRvJylcbiAgICAgIC8vLyBpZiB3aXRoaW4gNyBkYXlzXG4gICAgICAvL3JldHVybiBtb21lbnQodGhpcy5zdGFydFRpbWVzdGFtcCkuZm9ybWF0KCdkZGQsIGhBJykgKyAnIC0gJyArIG1vbWVudCh0aGlzLmVuZFRpbWVzdGFtcCkuZm9ybWF0KCdkZGQsIGhBJyk7XG4gICAgICAvLyBpZiB3aXRoaW4gMjQgaG91cnNcbiAgICAgIHJldHVybiBtb21lbnQodGhpcy5zdGFydFRpbWVzdGFtcCkuZm9ybWF0KCdIOm1tJykgKyAnIC0gJyArIG1vbWVudCh0aGlzLmVuZFRpbWVzdGFtcCkuZm9ybWF0KCdIOm1tJylcbiAgICAgICAgKyAnICgnICsgbW9tZW50KHRoaXMuZW5kVGltZXN0YW1wKS5mcm9tKG1vbWVudCh0aGlzLnN0YXJ0VGltZXN0YW1wKSwgdHJ1ZSkgKyAnKSc7XG4gICAgfVxuICB9XG5cbn1cbiIsIi8vLyBDb3B5cmlnaHQgMjAxNC0yMDE1IFJlZCBIYXQsIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzXG4vLy8gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyBhcyBpbmRpY2F0ZWQgYnkgdGhlIEBhdXRob3IgdGFncy5cbi8vL1xuLy8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy8vXG4vLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vL1xuLy8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwibWV0cmljc0dsb2JhbHMudHNcIi8+XG5cbm1vZHVsZSBIYXdrdWxhck1ldHJpY3Mge1xuXG4gIGV4cG9ydCB2YXIgX21vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKEhhd2t1bGFyTWV0cmljcy5wbHVnaW5OYW1lLCBbJ25nUmVzb3VyY2UnLCAndWkuc2VsZWN0JywgJ2hhd2t1bGFyQ2hhcnRzJywgJ2hhd2t1bGFyLnNlcnZpY2VzJ10pO1xuXG4gIHZhciBtZXRyaWNzVGFiOmFueTtcblxuICBfbW9kdWxlLmNvbmZpZyhbJyRodHRwUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCAnJHJvdXRlUHJvdmlkZXInLCAnSGF3dGlvTmF2QnVpbGRlclByb3ZpZGVyJywgKCRodHRwUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCAkcm91dGVQcm92aWRlcjpuZy5yb3V0ZS5JUm91dGVQcm92aWRlciwgbmF2QnVpbGRlcjpIYXd0aW9NYWluTmF2LkJ1aWxkZXJGYWN0b3J5KSA9PiB7XG5cbiAgICBtZXRyaWNzVGFiID0gbmF2QnVpbGRlci5jcmVhdGUoKVxuICAgICAgLmlkKEhhd2t1bGFyTWV0cmljcy5wbHVnaW5OYW1lKVxuICAgICAgLnRpdGxlKCgpID0+IFwiTWV0cmljc1wiKVxuICAgICAgLmhyZWYoKCkgPT4gXCIvbWV0cmljc1wiKVxuICAgICAgLnN1YlBhdGgoXCJBZGQgVXJsXCIsIFwiYWRkVXJsXCIsIG5hdkJ1aWxkZXIuam9pbihIYXdrdWxhck1ldHJpY3MudGVtcGxhdGVQYXRoLCAnYWRkLXVybC5odG1sJykpXG4gICAgICAuc3ViUGF0aChcIkhvbWVcIiwgXCJob21lXCIsIG5hdkJ1aWxkZXIuam9pbihIYXdrdWxhck1ldHJpY3MudGVtcGxhdGVQYXRoLCAnaG9tZS5odG1sJykpXG4gICAgICAuc3ViUGF0aChcIlJlc3BvbnNlIFRpbWVcIiwgXCJyZXNwb25zZVRpbWVcIiwgbmF2QnVpbGRlci5qb2luKEhhd2t1bGFyTWV0cmljcy50ZW1wbGF0ZVBhdGgsICdyZXNwb25zZS10aW1lLmh0bWwnKSlcbiAgICAgIC5zdWJQYXRoKFwiVXAvRG93bnRpbWVcIiwgXCJ1cERvd250aW1lXCIsIG5hdkJ1aWxkZXIuam9pbihIYXdrdWxhck1ldHJpY3MudGVtcGxhdGVQYXRoLCAndXAtZG93bnRpbWUuaHRtbCcpKVxuICAgICAgLnN1YlBhdGgoXCJBbGVydHNcIiwgXCJhbGVydHNcIiwgbmF2QnVpbGRlci5qb2luKEhhd2t1bGFyTWV0cmljcy50ZW1wbGF0ZVBhdGgsICdhbGVydHMuaHRtbCcpKVxuICAgICAgLmJ1aWxkKCk7XG5cbiAgICBuYXZCdWlsZGVyLmNvbmZpZ3VyZVJvdXRpbmcoJHJvdXRlUHJvdmlkZXIsIG1ldHJpY3NUYWIpO1xuXG4gICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuICB9XSk7XG5cbiAgX21vZHVsZS5ydW4oWydIYXd0aW9OYXYnLCAoSGF3dGlvTmF2Okhhd3Rpb01haW5OYXYuUmVnaXN0cnkpID0+IHtcbiAgICBIYXd0aW9OYXYuYWRkKG1ldHJpY3NUYWIpO1xuICAgIGxvZy5kZWJ1ZyhcImxvYWRlZCBNZXRyaWNzIFBsdWdpblwiKTtcbiAgfV0pO1xuXG4gIF9tb2R1bGUuZGlyZWN0aXZlKCduZ0VudGVyJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICBlbGVtZW50LmJpbmQoXCJrZXlkb3duIGtleXByZXNzXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzKSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nRW50ZXIpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cblxuICBoYXd0aW9QbHVnaW5Mb2FkZXIuYWRkTW9kdWxlKEhhd2t1bGFyTWV0cmljcy5wbHVnaW5OYW1lKTtcbn1cbiIsIi8vLyBDb3B5cmlnaHQgMjAxNC0yMDE1IFJlZCBIYXQsIEluYy4gYW5kL29yIGl0cyBhZmZpbGlhdGVzXG4vLy8gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyBhcyBpbmRpY2F0ZWQgYnkgdGhlIEBhdXRob3IgdGFncy5cbi8vL1xuLy8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy8vXG4vLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vL1xuLy8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwibWV0cmljc1BsdWdpbi50c1wiLz5cblxubW9kdWxlIEhhd2t1bGFyTWV0cmljcyB7XG5cblxuICBleHBvcnQgY2xhc3MgQWRkVXJsQ29udHJvbGxlciB7XG4gICAgLy8vIHRoaXMgaXMgZm9yIG1pbmlmaWNhdGlvbiBwdXJwb3Nlc1xuICAgIHB1YmxpYyBzdGF0aWMgJGluamVjdCA9IFsnJGxvY2F0aW9uJywgJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRsb2cnLCAnSGF3a3VsYXJJbnZlbnRvcnknXTtcblxuICAgIHByaXZhdGUgaHR0cFVyaVBhcnQgPSAnaHR0cDovLyc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRsb2NhdGlvbjpuZy5JTG9jYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgJHNjb3BlOmFueSxcbiAgICAgICAgICAgICAgICBwcml2YXRlICRyb290U2NvcGU6bmcuSVJvb3RTY29wZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSAkbG9nOm5nLklMb2dTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgSGF3a3VsYXJJbnZlbnRvcnk6YW55LFxuICAgICAgICAgICAgICAgIHB1YmxpYyByZXNvdXJjZVVybDpzdHJpbmcpIHtcbiAgICAgICRzY29wZS52bSA9IHRoaXM7XG4gICAgICB0aGlzLnJlc291cmNlVXJsID0gdGhpcy5odHRwVXJpUGFydDtcblxuICAgIH1cblxuICAgIGFkZFVybCh1cmw6c3RyaW5nKTp2b2lkIHtcbiAgICAgIHZhciByZXNvdXJjZSA9IHtcbiAgICAgICAgdHlwZTogJ1VSTCcsXG4gICAgICAgIGlkOiAnJyxcbiAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgIHVybDogdXJsXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMuJGxvZy5pbmZvKFwiQWRkaW5nIG5ldyBSZXNvdXJjZSBVcmwgdG8gSGF3a3VsYXItaW52ZW50b3J5OiBcIiArIHVybCk7XG5cbiAgICAgIGdsb2JhbENoYXJ0VGltZVJhbmdlID0gbmV3IENoYXJ0VGltZVJhbmdlKDEpO1xuXG4gICAgICAvLy8gQWRkIHRoZSBSZXNvdXJjZVxuICAgICAgdGhpcy5IYXdrdWxhckludmVudG9yeS5SZXNvdXJjZS5zYXZlKHt0ZW5hbnRJZDogZ2xvYmFsVGVuYW50SWR9LCByZXNvdXJjZSkuJHByb21pc2VcbiAgICAgICAgLnRoZW4oKG5ld1Jlc291cmNlKSA9PiB7XG4gICAgICAgICAgLy8gd2Ugbm93IGhhdmUgYSByZXNvdXJjZUlkIGZyb20gdGhpcyBjYWxsXG4gICAgICAgICAgZ2xvYmFsUmVzb3VyY2VJZCA9IG5ld1Jlc291cmNlLmlkO1xuICAgICAgICAgIGdsb2JhbFJlc291cmNlVXJsID0gcmVzb3VyY2UucGFyYW1ldGVycy51cmw7XG4gICAgICAgICAgY29uc29sZS5kaXIobmV3UmVzb3VyY2UpO1xuICAgICAgICAgIHRoaXMuJGxvZy5pbmZvKFwiTmV3IFJlc291cmNlIElEOiBcIiArIGdsb2JhbFJlc291cmNlSWQgKyBcIiBjcmVhdGVkIGZvciB1cmw6IFwiICsgZ2xvYmFsUmVzb3VyY2VVcmwpO1xuICAgICAgICAgIHZhciBtZXRyaWNzID0gW3tcbiAgICAgICAgICAgIG5hbWU6IGdsb2JhbFJlc291cmNlSWQgKyAnLnN0YXR1cy5kdXJhdGlvbicsXG4gICAgICAgICAgICB1bml0OiAnTUlMTElfU0VDT05EJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUmVzcG9uc2UgVGltZSBpbiBtcy4nXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogZ2xvYmFsUmVzb3VyY2VJZCArICcuc3RhdHVzLmNvZGUnLFxuICAgICAgICAgICAgdW5pdDogJ05PTkUnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTdGF0dXMgQ29kZSdcbiAgICAgICAgICB9XTtcblxuXG4gICAgICAgICAgLy8vIEZvciByaWdodCBub3cgd2Ugd2lsbCBqdXN0IFJlZ2lzdGVyIGEgY291cGxlIG9mIG1ldHJpY3MgYXV0b21hdGljYWxseVxuICAgICAgICAgIHRoaXMuSGF3a3VsYXJJbnZlbnRvcnkuTWV0cmljLnNhdmUoe1xuICAgICAgICAgICAgdGVuYW50SWQ6IGdsb2JhbFRlbmFudElkLFxuICAgICAgICAgICAgcmVzb3VyY2VJZDogbmV3UmVzb3VyY2UuaWRcbiAgICAgICAgICB9LCBtZXRyaWNzKS4kcHJvbWlzZS50aGVuKChuZXdNZXRyaWNzKSA9PiB7XG4gICAgICAgICAgICAgIHRvYXN0ci5pbmZvKFwiWW91ciBkYXRhIGlzIGJlaW5nIGNvbGxlY3RlZC4gUGxlYXNlIGJlIHBhdGllbnQgKHNob3VsZCBiZSBhYm91dCBhbm90aGVyIG1pbnV0ZSkuXCIpO1xuICAgICAgICAgICAgICB0aGlzLiRsb2NhdGlvbi51cmwoXCIvbWV0cmljcy9yZXNwb25zZVRpbWVcIik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuXG4gICAgfVxuICB9XG5cbiAgX21vZHVsZS5jb250cm9sbGVyKCdIYXdrdWxhck1ldHJpY3MuQWRkVXJsQ29udHJvbGxlcicsIEFkZFVybENvbnRyb2xsZXIpO1xuXG59XG4iLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIm1ldHJpY3NQbHVnaW4udHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vaW5jbHVkZXMudHNcIi8+XG5cbm1vZHVsZSBIYXdrdWxhck1ldHJpY3Mge1xuXG4gIGV4cG9ydCBpbnRlcmZhY2UgSVF1aWNrQWxlcnRDb250cm9sbGVyIHtcbiAgICB0b2dnbGVRdWlja0FsZXJ0KCk6dm9pZFxuICAgIHNhdmVRdWlja0FsZXJ0KCk6dm9pZFxuICB9XG5cbiAgZXhwb3J0IGNsYXNzIFF1aWNrQWxlcnRDb250cm9sbGVyIGltcGxlbWVudHMgSVF1aWNrQWxlcnRDb250cm9sbGVyIHtcbiAgICBwdWJsaWMgc3RhdGljICAkaW5qZWN0ID0gWyckc2NvcGUnLCAnSGF3a3VsYXJBbGVydCcsICckbG9nJywgJyRxJ107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICRzY29wZTphbnksXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBIYXdrdWxhckFsZXJ0OmFueSxcbiAgICAgICAgICAgICAgICBwcml2YXRlICRsb2c6IG5nLklMb2dTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgJHE6IG5nLklRU2VydmljZSkge1xuICAgICAgdGhpcy4kc2NvcGUuc2hvd1F1aWNrQWxlcnQgPSBmYWxzZTtcbiAgICAgIHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlciA9IHtcbiAgICAgICAgb3BlcmF0b3I6ICdMVCcsXG4gICAgICAgIHRocmVzaG9sZDogMFxuICAgICAgfTtcbiAgICAgIHRoaXMuYWxsQWN0aW9ucygpO1xuICAgIH1cblxuICAgIHRvZ2dsZVF1aWNrQWxlcnQoKTp2b2lkIHtcbiAgICAgIHRoaXMuJHNjb3BlLnNob3dRdWlja0FsZXJ0ID0gIXRoaXMuJHNjb3BlLnNob3dRdWlja0FsZXJ0O1xuICAgIH1cblxuICAgIHByaXZhdGUgUFJPTUlTRV9CUkVBSzogc3RyaW5nID0gJ21hZ2ljVmFsdWUxMjM0JztcblxuICAgIHByaXZhdGUgYWxsQWN0aW9ucygpOnZvaWQge1xuICAgICAgdGhpcy4kc2NvcGUuYWN0aW9ucyA9IFtdO1xuICAgICAgdGhpcy5IYXdrdWxhckFsZXJ0LkFjdGlvbi5xdWVyeShcbiAgICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHRoaXMuJHNjb3BlLmFjdGlvbnMgPSByZXN1bHQ7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgIHRoaXMuZXJyb3JUb2FzdHIoZXJyb3IsICdFcnJvciBsb2FkaW5nIEFsZXJ0cyBOb3RpZmllcnM6Jyk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlcnJvclRvYXN0cihlcnJvcjogYW55LCBlcnJvck1zZzogc3RyaW5nKTp2b2lkIHtcbiAgICAgIHZhciBlcnJvck1zZ0NvbXBsZXRlOiBzdHJpbmc7XG5cbiAgICAgIGlmIChlcnJvci5kYXRhICYmIGVycm9yLmRhdGEuZXJyb3JNc2cpIHtcbiAgICAgICAgZXJyb3JNc2dDb21wbGV0ZSA9IGVycm9yLmRhdGEuZXJyb3JNc2c7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvck1zZ0NvbXBsZXRlID0gZXJyb3JNc2cgKyAnICcgKyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgdGhpcy4kbG9nLmVycm9yKGVycm9yTXNnQ29tcGxldGUpO1xuICAgICAgdG9hc3RyLmVycm9yKGVycm9yTXNnQ29tcGxldGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXJyb3JIYW5kbGVyKGVycm9yOiBhbnksIG1zZzogc3RyaW5nKSB7XG4gICAgICBpZiAoZXJyb3IgIT09IHRoaXMuUFJPTUlTRV9CUkVBSykge1xuICAgICAgICB0aGlzLmVycm9yVG9hc3RyKGVycm9yLCBtc2cpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuJHEucmVqZWN0KHRoaXMuUFJPTUlTRV9CUkVBSyk7XG4gICAgfVxuXG4gICAgc2F2ZVF1aWNrQWxlcnQoKTp2b2lkIHtcbiAgICAgIGlmIChzaGFyZWRNZXRyaWNJZCAhPT0gJy5zdGF0dXMuZHVyYXRpb24nICYmIHNoYXJlZE1ldHJpY0lkICE9PSAnLnN0YXR1cy5jb2RlJykge1xuICAgICAgICB2YXIgbmV3VHJpZ2dlcjphbnkgPSB7fTtcbiAgICAgICAgbmV3VHJpZ2dlci5uYW1lID0gc2hhcmVkTWV0cmljSWQgKyAnUmVzcG9uc2VUaW1lJyArICctJyArIHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlci5vcGVyYXRvciArICctJyArIHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlci50aHJlc2hvbGQ7XG4gICAgICAgIG5ld1RyaWdnZXIuZGVzY3JpcHRpb24gPSAnQ3JlYXRlZCBvbiAnICsgbmV3IERhdGUoKTtcbiAgICAgICAgbmV3VHJpZ2dlci5maXJpbmdNYXRjaCA9ICdBTEwnO1xuICAgICAgICBuZXdUcmlnZ2VyLnNhZmV0eU1hdGNoID0gJ0FMTCc7XG4gICAgICAgIG5ld1RyaWdnZXIuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyaWdnZXIuc2FmZXR5RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBuZXdUcmlnZ2VyLmFjdGlvbnMgPSB0aGlzLiRzY29wZS5xdWlja1RyaWdnZXIuYWN0aW9ucztcblxuICAgICAgICB2YXIgbmV3RGFtcGVuaW5nOmFueSA9IHtcbiAgICAgICAgICB0cmlnZ2VySWQ6ICcnLFxuICAgICAgICAgIHR5cGU6ICdSRUxBWEVEX0NPVU5UJyxcbiAgICAgICAgICBldmFsVHJ1ZVNldHRpbmc6IDEsXG4gICAgICAgICAgZXZhbFRvdGFsU2V0dGluZzogMSxcbiAgICAgICAgICBldmFsVGltZVNldHRpbmc6IDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLkhhd2t1bGFyQWxlcnQuVHJpZ2dlci5zYXZlKG5ld1RyaWdnZXIpLiRwcm9taXNlLnRoZW4oXG4gICAgICAgICAgLy8gU3VjY2VzcyBUcmlnZ2VyIHNhdmVcbiAgICAgICAgICAodHJpZ2dlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy4kbG9nLmRlYnVnKCdTdWNjZXNzIFRyaWdnZXIgc2F2ZScpO1xuICAgICAgICAgICAgbmV3RGFtcGVuaW5nLnRyaWdnZXJJZCA9IHRyaWdnZXIuaWQ7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLkhhd2t1bGFyQWxlcnQuRGFtcGVuaW5nLnNhdmUoe3RyaWdnZXJJZDogbmV3RGFtcGVuaW5nLnRyaWdnZXJJZH0sXG4gICAgICAgICAgICAgIG5ld0RhbXBlbmluZykuJHByb21pc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBFcnJvciBUcmlnZ2VyIHNhdmVcbiAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9ySGFuZGxlcihlcnJvciwgJ0Vycm9yIHNhdmluZyBUcmlnZ2VyJyk7XG4gICAgICAgICAgfVxuICAgICAgICApLnRoZW4oXG4gICAgICAgICAgLy8gU3VjY2VzcyBEYW1wZW5pbmcgc2F2ZVxuICAgICAgICAgIChkYW1wZW5pbmcpID0+IHtcbiAgICAgICAgICAgIHRoaXMuJGxvZy5kZWJ1ZygnU3VjY2VzcyBEYW1wZW5pbmcgc2F2ZScsIGRhbXBlbmluZyk7XG4gICAgICAgICAgICB2YXIgbmV3VGhyZXNob2xkQ29uZGl0aW9uID0ge1xuICAgICAgICAgICAgICB0cmlnZ2VySWQ6IGRhbXBlbmluZy50cmlnZ2VySWQsXG4gICAgICAgICAgICAgIHR5cGU6ICdUSFJFU0hPTEQnLFxuICAgICAgICAgICAgICBkYXRhSWQ6IHNoYXJlZE1ldHJpY0lkLFxuICAgICAgICAgICAgICBvcGVyYXRvcjogdGhpcy4kc2NvcGUucXVpY2tUcmlnZ2VyLm9wZXJhdG9yLFxuICAgICAgICAgICAgICB0aHJlc2hvbGQ6IHRoaXMuJHNjb3BlLnF1aWNrVHJpZ2dlci50aHJlc2hvbGRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLkhhd2t1bGFyQWxlcnQuQ29uZGl0aW9uLnNhdmUoe3RyaWdnZXJJZDogbmV3VGhyZXNob2xkQ29uZGl0aW9uLnRyaWdnZXJJZH0sXG4gICAgICAgICAgICAgIG5ld1RocmVzaG9sZENvbmRpdGlvbikuJHByb21pc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBFcnJvciBEYW1wZW5pbmcgc2F2ZVxuICAgICAgICAgIChlcnJvckRhbXBlbmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JIYW5kbGVyKGVycm9yRGFtcGVuaW5nLCAnRXJyb3Igc2F2aW5nIFRyaWdnZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgICkudGhlbihcbiAgICAgICAgICAvLyBTdWNjZXNzIFRocmVzaG9sZENvbmRpdGlvbiBzYXZlXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4kbG9nLmRlYnVnKCdTdWNjZXNzIFRocmVzaG9sZENvbmRpdGlvbiBzYXZlJyk7XG4gICAgICAgICAgICB0aGlzLiRsb2cuZGVidWcoJ0FsZXJ0IENyZWF0ZWQhJyk7XG4gICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnQWxlcnQgQ3JlYXRlZCEnKTtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGVRdWlja0FsZXJ0KCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLkhhd2t1bGFyQWxlcnQuQWxlcnQucmVsb2FkKCkuJHByb21pc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBFcnJvciBUaHJlc2hvbGRDb25kaXRpb24gc2F2ZVxuICAgICAgICAgIChlcnJvckNvbmRpdGlvbikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JIYW5kbGVyKGVycm9yQ29uZGl0aW9uLCAnRXJyb3Igc2F2aW5nIFRyaWdnZXIgQ29uZGl0aW9uJyk7XG4gICAgICAgICAgfVxuICAgICAgICApLnRoZW4oXG4gICAgICAgICAgLy8gU3VjY2VzcyBSZWxvYWRcbiAgICAgICAgICBhbmd1bGFyLm5vb3AsXG4gICAgICAgICAgLy8gRXJyb3IgUmVsb2FkXG4gICAgICAgICAgKGVycm9yUmVsb2FkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvckhhbmRsZXIoZXJyb3JSZWxvYWQsICdFcnJvciByZWxvYWRpbmcgQWxlcnRzJyk7XG4gICAgICAgICAgfVxuICAgICAgICApLmNhdGNoKFxuICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIoZXJyb3IsICdFcnJvcjonKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRsb2cuZGVidWcoJ05vIG1ldHJpYyBzZWxlY3RlZCcpO1xuICAgICAgICB0b2FzdHIud2FybmluZygnTm8gbWV0cmljIHNlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX21vZHVsZS5jb250cm9sbGVyKCdRdWlja0FsZXJ0Q29udHJvbGxlcicsIFF1aWNrQWxlcnRDb250cm9sbGVyKTtcbn1cblxuIiwiLy8vIENvcHlyaWdodCAyMDE0LTIwMTUgUmVkIEhhdCwgSW5jLiBhbmQvb3IgaXRzIGFmZmlsaWF0ZXNcbi8vLyBhbmQgb3RoZXIgY29udHJpYnV0b3JzIGFzIGluZGljYXRlZCBieSB0aGUgQGF1dGhvciB0YWdzLlxuLy8vXG4vLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vLy9cbi8vLyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy8vXG4vLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJtZXRyaWNzUGx1Z2luLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL2luY2x1ZGVzLnRzXCIvPlxuXG5tb2R1bGUgSGF3a3VsYXJNZXRyaWNzIHtcblxuICBleHBvcnQgaW50ZXJmYWNlIElDb250ZXh0Q2hhcnREYXRhUG9pbnQge1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xuICAgIHZhbHVlOiBudW1iZXI7XG4gICAgYXZnOiBudW1iZXI7XG4gICAgZW1wdHk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIElDaGFydERhdGFQb2ludCBleHRlbmRzIElDb250ZXh0Q2hhcnREYXRhUG9pbnQge1xuICAgIGRhdGU6IERhdGU7XG4gICAgbWluOiBudW1iZXI7XG4gICAgbWF4OiBudW1iZXI7XG4gIH1cblxuXG4gIGV4cG9ydCB2YXIgc2hhcmVkTWV0cmljSWQ6c3RyaW5nO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgY29udHJvbGxlclxuICAgKiBAbmFtZSBDaGFydENvbnRyb2xsZXJcbiAgICogQGRlc2NyaXB0aW9uIFRoaXMgY29udHJvbGxlciBpcyByZXNwb25zaWJsZSBmb3IgaGFuZGxpbmcgYWN0aXZpdHkgcmVsYXRlZCB0byB0aGUgQ2hhcnQgdGFiLlxuICAgKiBAcGFyYW0gJHNjb3BlXG4gICAqIEBwYXJhbSAkcm9vdFNjb3BlIGZvciBwdWJsaXNoaW5nICRicm9hZGNhc3QgZXZlbnRzIG9ubHlcbiAgICogQHBhcmFtICRpbnRlcnZhbFxuICAgKiBAcGFyYW0gJGxvZ1xuICAgKiBAcGFyYW0gbWV0cmljRGF0YVNlcnZpY2VcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBNZXRyaWNzVmlld0NvbnRyb2xsZXIge1xuICAgIC8vLyBmb3IgbWluaWZpY2F0aW9uIG9ubHlcbiAgICBwdWJsaWMgc3RhdGljICAkaW5qZWN0ID0gWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckaW50ZXJ2YWwnLCAnJGxvZycsICdIYXdrdWxhck1ldHJpYycsICdIYXdrdWxhckludmVudG9yeSddO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSAkc2NvcGU6YW55LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgJHJvb3RTY29wZTpuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlICRpbnRlcnZhbDpuZy5JSW50ZXJ2YWxTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgJGxvZzpuZy5JTG9nU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIEhhd2t1bGFyTWV0cmljOmFueSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIEhhd2t1bGFySW52ZW50b3J5OmFueSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgc3RhcnRUaW1lU3RhbXA6RGF0ZSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgZW5kVGltZVN0YW1wOkRhdGUsXG4gICAgICAgICAgICAgICAgcHVibGljIGRhdGVSYW5nZTpzdHJpbmcpIHtcbiAgICAgICRzY29wZS52bSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuc3RhcnRUaW1lU3RhbXAgPSBtb21lbnQoKS5zdWJ0cmFjdCgxLCAnaG91cnMnKS50b0RhdGUoKTtcbiAgICAgIHRoaXMuZW5kVGltZVN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgIHRoaXMuZGF0ZVJhbmdlID0gbW9tZW50KHRoaXMuc3RhcnRUaW1lU3RhbXApLmZvcm1hdCgnSDptbScpICsgJyAtICcgKyBtb21lbnQodGhpcy5lbmRUaW1lU3RhbXApLmZvcm1hdCgnSDptbScpXG4gICAgICArICcgKCcgKyBtb21lbnQodGhpcy5lbmRUaW1lU3RhbXApLmZyb20obW9tZW50KHRoaXMuc3RhcnRUaW1lU3RhbXApLCB0cnVlKSArICcpJztcblxuICAgICAgJHNjb3BlLiRvbignUmVmcmVzaENoYXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICRzY29wZS52bS5yZWZyZXNoQ2hhcnREYXRhTm93KHRoaXMuZ2V0TWV0cmljSWQoKSk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLiR3YXRjaCgndm0uc2VsZWN0ZWRSZXNvdXJjZScsIChyZXNvdXJjZSkgPT4ge1xuICAgICAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgICAvLy8gbWFkZSBhIHNlbGVjdGlvbiBmcm9tIHVybCBzd2l0Y2hlclxuICAgICAgICAgIGdsb2JhbFJlc291cmNlSWQgPSByZXNvdXJjZS5pZDtcbiAgICAgICAgICAkc2NvcGUudm0ucmVmcmVzaENoYXJ0RGF0YU5vdyh0aGlzLmdldE1ldHJpY0lkKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vLyBjYXNlIHdoZW4gY29taW5nIGZyb20gYWRkVXJsIHNjcmVlblxuICAgICAgICAgIGdsb2JhbFJlc291cmNlTGlzdCA9IHRoaXMuSGF3a3VsYXJJbnZlbnRvcnkuUmVzb3VyY2UucXVlcnkoe3RlbmFudElkOiBnbG9iYWxUZW5hbnRJZH0pLiRwcm9taXNlLlxuICAgICAgICAgICAgdGhlbigocmVzb3VyY2VzKT0+IHtcbiAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZUxpc3QgPSByZXNvdXJjZXM7XG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSZXNvdXJjZSA9IHJlc291cmNlc1tyZXNvdXJjZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICRzY29wZS52bS5yZWZyZXNoQ2hhcnREYXRhTm93KHRoaXMuZ2V0TWV0cmljSWQoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICAgICRzY29wZS52bS5vbkNyZWF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnVja2V0ZWREYXRhUG9pbnRzOklDaGFydERhdGFQb2ludFtdID0gW107XG4gICAgcHJpdmF0ZSBjb250ZXh0RGF0YVBvaW50czpJQ2hhcnREYXRhUG9pbnRbXSA9IFtdO1xuICAgIHByaXZhdGUgY2hhcnREYXRhOmFueTtcbiAgICBwcml2YXRlIGlzUmVzcG9uc2VUYWIgPSB0cnVlO1xuICAgIHByaXZhdGUgYXV0b1JlZnJlc2hQcm9taXNlOm5nLklQcm9taXNlPG51bWJlcj47XG4gICAgcHJpdmF0ZSBfcmVzb3VyY2VMaXN0ID0gW107XG4gICAgc2VsZWN0ZWRSZXNvdXJjZTtcblxuXG4gICAgcHVibGljIGdldCByZXNvdXJjZUxpc3QoKTpzdHJpbmdbXSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVzb3VyY2VMaXN0O1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgcmVzb3VyY2VMaXN0KG5ld1Jlc291cmNlTGlzdDpzdHJpbmdbXSkge1xuICAgICAgZ2xvYmFsUmVzb3VyY2VMaXN0ID0gbmV3UmVzb3VyY2VMaXN0O1xuICAgICAgdGhpcy5fcmVzb3VyY2VMaXN0ID0gbmV3UmVzb3VyY2VMaXN0O1xuICAgIH1cblxuICAgIHByaXZhdGUgb25DcmVhdGUoKSB7XG4gICAgICAvLy8gc2V0dXAgYXV0b3JlZnJlc2ggZm9yIGV2ZXJ5IG1pbnV0ZVxuICAgICAgdGhpcy5hdXRvUmVmcmVzaCg2MCk7XG4gICAgICB0aGlzLkhhd2t1bGFySW52ZW50b3J5LlJlc291cmNlLnF1ZXJ5KHt0ZW5hbnRJZDogZ2xvYmFsVGVuYW50SWR9LCAoYVJlc291cmNlTGlzdCkgPT4ge1xuICAgICAgICB0aGlzLnJlc291cmNlTGlzdCA9IGFSZXNvdXJjZUxpc3Q7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VMaXN0W3RoaXMucmVzb3VyY2VMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLnJlZnJlc2hDaGFydERhdGFOb3codGhpcy5nZXRNZXRyaWNJZCgpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgY2FuY2VsQXV0b1JlZnJlc2goKTp2b2lkIHtcbiAgICAgIHRoaXMuJGludGVydmFsLmNhbmNlbCh0aGlzLmF1dG9SZWZyZXNoUHJvbWlzZSk7XG4gICAgICB0b2FzdHIuaW5mbygnQ2FuY2VsaW5nIEF1dG8gUmVmcmVzaCcpO1xuICAgIH1cblxuICAgIGF1dG9SZWZyZXNoKGludGVydmFsSW5TZWNvbmRzOm51bWJlcik6dm9pZCB7XG4gICAgICB0aGlzLnJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhRm9yVGltZXN0YW1wKHRoaXMuZ2V0TWV0cmljSWQoKSk7XG4gICAgICB0aGlzLmF1dG9SZWZyZXNoUHJvbWlzZSA9IHRoaXMuJGludGVydmFsKCgpICA9PiB7XG4gICAgICAgIHRoaXMuZW5kVGltZVN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoSGlzdG9yaWNhbENoYXJ0RGF0YUZvclRpbWVzdGFtcCh0aGlzLmdldE1ldHJpY0lkKCkpO1xuICAgICAgfSwgaW50ZXJ2YWxJblNlY29uZHMgKiAxMDAwKTtcblxuICAgICAgdGhpcy4kc2NvcGUuJG9uKCckZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgdGhpcy4kaW50ZXJ2YWwuY2FuY2VsKHRoaXMuYXV0b1JlZnJlc2hQcm9taXNlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgbm9EYXRhRm91bmRGb3JJZChpZDpzdHJpbmcpOnZvaWQge1xuICAgICAgdGhpcy4kbG9nLndhcm4oJ05vIERhdGEgZm91bmQgZm9yIGlkOiAnICsgaWQpO1xuICAgICAgLy8vdG9hc3RyLndhcm5pbmcoJ05vIERhdGEgZm91bmQgZm9yIGlkOiAnICsgaWQpO1xuICAgIH1cblxuXG4gICAgcmVmcmVzaENoYXJ0RGF0YU5vdyhtZXRyaWNJZDpzdHJpbmcsIHN0YXJ0VGltZT86RGF0ZSk6dm9pZCB7XG4gICAgICB2YXIgYWRqU3RhcnRUaW1lU3RhbXA6RGF0ZSA9IG1vbWVudCgpLnN1YnRyYWN0KCdob3VycycsIDEpLnRvRGF0ZSgpOyAvL2RlZmF1bHQgdGltZSBwZXJpb2Qgc2V0IHRvIDI0IGhvdXJzXG4gICAgICAvL3RoaXMuJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdNdWx0aUNoYXJ0T3ZlcmxheURhdGFDaGFuZ2VkJyk7XG4gICAgICB0aGlzLmVuZFRpbWVTdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICB0aGlzLnJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhKG1ldHJpY0lkLCBhbmd1bGFyLmlzVW5kZWZpbmVkKHN0YXJ0VGltZSkgPyBhZGpTdGFydFRpbWVTdGFtcCA6IHN0YXJ0VGltZSwgdGhpcy5lbmRUaW1lU3RhbXApO1xuICAgIH1cblxuICAgIHJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhKG1ldHJpY0lkOnN0cmluZywgc3RhcnREYXRlOkRhdGUsIGVuZERhdGU6RGF0ZSk6dm9pZCB7XG4gICAgICB0aGlzLnJlZnJlc2hIaXN0b3JpY2FsQ2hhcnREYXRhRm9yVGltZXN0YW1wKG1ldHJpY0lkLCBzdGFydERhdGUuZ2V0VGltZSgpLCBlbmREYXRlLmdldFRpbWUoKSk7XG4gICAgfVxuXG4gICAgZ2V0TWV0cmljSWQoKTpzdHJpbmcge1xuICAgICAgdmFyIG1ldHJpY0lkID0gdGhpcy5pc1Jlc3BvbnNlVGFiID8gTWV0cmljc1ZpZXdDb250cm9sbGVyLmdldFJlc291cmNlRHVyYXRpb25NZXRyaWNJZCgpIDogTWV0cmljc1ZpZXdDb250cm9sbGVyLmdldFJlc291cmNlQ29kZU1ldHJpY0lkKCk7XG4gICAgICBzaGFyZWRNZXRyaWNJZCA9IG1ldHJpY0lkO1xuICAgICAgcmV0dXJuIG1ldHJpY0lkO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldFJlc291cmNlRHVyYXRpb25NZXRyaWNJZCgpIHtcbiAgICAgIHJldHVybiBnbG9iYWxSZXNvdXJjZUlkICsgJy5zdGF0dXMuZHVyYXRpb24nO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldFJlc291cmNlQ29kZU1ldHJpY0lkKCkge1xuICAgICAgcmV0dXJuIGdsb2JhbFJlc291cmNlSWQgKyAnLnN0YXR1cy5jb2RlJztcbiAgICB9XG5cbiAgICBnZXRDaGFydFR5cGUoKTpzdHJpbmcge1xuICAgICAgcmV0dXJuIHRoaXMuaXNSZXNwb25zZVRhYiA/ICdoYXdrdWxhcmFyZWEnIDogJ2hpc3RvZ3JhbSc7XG4gICAgfVxuXG4gICAgZ2V0WUF4aXNVbml0cygpOnN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy5pc1Jlc3BvbnNlVGFiID8gJ1Jlc3BvbnNlIHRpbWUgKG1zKScgOiAnU3RhdHVzIENvZGUnO1xuICAgIH1cblxuICAgIHJlc3BvbnNlVGFiQ2xpY2soKTp2b2lkIHtcbiAgICAgIHRoaXMuaXNSZXNwb25zZVRhYiA9ICF0aGlzLmlzUmVzcG9uc2VUYWI7XG4gICAgICB0aGlzLnJlZnJlc2hDaGFydERhdGFOb3codGhpcy5nZXRNZXRyaWNJZCgpKTtcbiAgICB9XG5cbiAgICByZWZyZXNoSGlzdG9yaWNhbENoYXJ0RGF0YUZvclRpbWVzdGFtcChtZXRyaWNJZDpzdHJpbmcsIHN0YXJ0VGltZT86bnVtYmVyLCBlbmRUaW1lPzpudW1iZXIpOnZvaWQge1xuICAgICAgLy8gY2FsbGluZyByZWZyZXNoQ2hhcnREYXRhIHdpdGhvdXQgcGFyYW1zIHVzZSB0aGUgbW9kZWwgdmFsdWVzXG4gICAgICBpZiAoIWVuZFRpbWUpIHtcbiAgICAgICAgZW5kVGltZSA9IHRoaXMuZW5kVGltZVN0YW1wLmdldFRpbWUoKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhcnRUaW1lKSB7XG4gICAgICAgIHN0YXJ0VGltZSA9IHRoaXMuc3RhcnRUaW1lU3RhbXAuZ2V0VGltZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWV0cmljSWQpIHtcbiAgICAgICAgdGhpcy5IYXdrdWxhck1ldHJpYy5OdW1lcmljTWV0cmljRGF0YS5xdWVyeU1ldHJpY3Moe1xuICAgICAgICAgIHRlbmFudElkOiBnbG9iYWxUZW5hbnRJZCxcbiAgICAgICAgICBudW1lcmljSWQ6IG1ldHJpY0lkLFxuICAgICAgICAgIHN0YXJ0OiBzdGFydFRpbWUsXG4gICAgICAgICAgZW5kOiBlbmRUaW1lLFxuICAgICAgICAgIGJ1Y2tldHM6IDYwXG4gICAgICAgIH0pLiRwcm9taXNlXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAvLyB3ZSB3YW50IHRvIGlzb2xhdGUgdGhlIHJlc3BvbnNlIGZyb20gdGhlIGRhdGEgd2UgYXJlIGZlZWRpbmcgdG8gdGhlIGNoYXJ0XG4gICAgICAgICAgICB0aGlzLmJ1Y2tldGVkRGF0YVBvaW50cyA9IHRoaXMuZm9ybWF0QnVja2V0ZWRDaGFydE91dHB1dChyZXNwb25zZSk7XG4gICAgICAgICAgICBjb25zb2xlLmRpcih0aGlzLmJ1Y2tldGVkRGF0YVBvaW50cyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Y2tldGVkRGF0YVBvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gdGhpcyBpcyBiYXNpY2FsbHkgdGhlIERUTyBmb3IgdGhlIGNoYXJ0XG4gICAgICAgICAgICAgIHRoaXMuY2hhcnREYXRhID0ge1xuICAgICAgICAgICAgICAgIGlkOiBtZXRyaWNJZCxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWVTdGFtcDogdGhpcy5zdGFydFRpbWVTdGFtcCxcbiAgICAgICAgICAgICAgICBlbmRUaW1lU3RhbXA6IHRoaXMuZW5kVGltZVN0YW1wLFxuICAgICAgICAgICAgICAgIGRhdGFQb2ludHM6IHRoaXMuYnVja2V0ZWREYXRhUG9pbnRzLFxuICAgICAgICAgICAgICAgIGNvbnRleHREYXRhUG9pbnRzOiB0aGlzLmNvbnRleHREYXRhUG9pbnRzLFxuICAgICAgICAgICAgICAgIGFubm90YXRpb25EYXRhUG9pbnRzOiBbXVxuICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLm5vRGF0YUZvdW5kRm9ySWQodGhpcy5nZXRNZXRyaWNJZCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy4kbG9nLmVycm9yKCdFcnJvciBMb2FkaW5nIENoYXJ0IGRhdGEnKTtcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcignRXJyb3IgTG9hZGluZyBDaGFydCBEYXRhOiAnICsgZXJyb3IpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmb3JtYXRCdWNrZXRlZENoYXJ0T3V0cHV0KHJlc3BvbnNlKTpJQ2hhcnREYXRhUG9pbnRbXSB7XG4gICAgICAvLyAgVGhlIHNjaGVtYSBpcyBkaWZmZXJlbnQgZm9yIGJ1Y2tldGVkIG91dHB1dFxuICAgICAgcmV0dXJuIF8ubWFwKHJlc3BvbnNlLmRhdGEsIChwb2ludDpJQ2hhcnREYXRhUG9pbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aW1lc3RhbXA6IHBvaW50LnRpbWVzdGFtcCxcbiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZShwb2ludC50aW1lc3RhbXApLFxuICAgICAgICAgIHZhbHVlOiAhYW5ndWxhci5pc051bWJlcihwb2ludC52YWx1ZSkgPyAwIDogcG9pbnQudmFsdWUsXG4gICAgICAgICAgYXZnOiAocG9pbnQuZW1wdHkpID8gMCA6IHBvaW50LmF2ZyxcbiAgICAgICAgICBtaW46ICFhbmd1bGFyLmlzTnVtYmVyKHBvaW50Lm1pbikgPyAwIDogcG9pbnQubWluLFxuICAgICAgICAgIG1heDogIWFuZ3VsYXIuaXNOdW1iZXIocG9pbnQubWF4KSA/IDAgOiBwb2ludC5tYXgsXG4gICAgICAgICAgZW1wdHk6IHBvaW50LmVtcHR5XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuXG4gIF9tb2R1bGUuY29udHJvbGxlcignTWV0cmljc1ZpZXdDb250cm9sbGVyJywgTWV0cmljc1ZpZXdDb250cm9sbGVyKTtcblxuXG59XG4iLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIm1ldHJpY3NQbHVnaW4udHNcIi8+XG5cbm1vZHVsZSBIYXdrdWxhck1ldHJpY3Mge1xuXG5cbiAgZXhwb3J0IHZhciBPdmVydmlld0NvbnRyb2xsZXIgPSBfbW9kdWxlLmNvbnRyb2xsZXIoXCJIYXdrdWxhck1ldHJpY3MuT3ZlcnZpZXdDb250cm9sbGVyXCIsIFsnJHNjb3BlJywgKCRzY29wZSkgPT4ge1xuICAgICRzY29wZS5vdmVydmlldyA9IFwiT3ZlciBWaWV3XCI7XG5cbiAgfV0pO1xuXG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
angular.module("hawkular-ui-components-metrics-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("plugins/metrics/html/add-url.html","<div class=\"pg-insert-url\" ng-controller=\"HawkularMetrics.AddUrlController as vm\">\n  <div class=\"container\">\n    <h1>Welcome!</h1>\n\n    <h2>Collect metrics from a website that you want to monitor.</h2>\n\n    <form class=\"form-horizontal\" name=\"addUrlForm\" role=\"form\" novalidate>\n      <div class=\"form-group input\">\n        <div class=\"col-lg-6 col-sm-8 col-xs-12 align-center\">\n          <div class=\"input-group input-group-lg\">\n            <input type=\"url\" class=\"form-control input-lg\" name=\"resourceUrl\" ng-model=\"vm.resourceUrl\"\n                   ng-model-options=\"{ updateOn: \'default blur\'}\"\n                   ng-enter=\"vm.addUrl(vm.resourceUrl)\"\n                   placeholder=\"Enter a website URL (e.g., http://mysite.com/home)\" required>\n            <span class=\"help-block hide\"\n                  ng-show=\"vm.addUrlForm.resourceUrl.$dirty && vm.addUrlForm.resourceUrl.$error.required\">The URL you entered is not valid. Please enter a valid URL.</span>\n              <span class=\"input-group-btn\">\n                   <button class=\"btn btn-primary btn-lg\" type=\"button\" ng-disabled=\"!vm.addUrlForm.$valid\"\n                           ng-click=\"vm.addUrl(vm.resourceUrl)\">Get Metrics\n                   </button>\n              </span>\n          </div>\n        </div>\n      </div>\n      <div class=\"form-group loading hide\">\n        <div class=\"spinner spinner-lg\"></div>\n        <button type=\"button\" class=\"btn btn-link\">Cancel</button>\n      </div>\n    </form>\n  </div>\n</div>\n");
$templateCache.put("plugins/metrics/html/alerts.html","<div class=\"row\" >\n  <div class=\"col-md-12\">\n    <h1>Alerts</h1>\n  </div>\n</div>\n");
$templateCache.put("plugins/metrics/html/create-alert-form.html","<div ng-controller=\"QuickAlertController as qac\" ng-show=\"vm.chartData.dataPoints.length > 1\">\n  <div ng-show=\"!showQuickAlert\" class=\"col-sm-9 col-md-10 content\">\n    <button class=\"btn btn-primary pull-left\" ng-click=\"qac.toggleQuickAlert()\">Add an Alert</button>\n  </div>\n  <div ng-show=\"showQuickAlert\" class=\"col-sm-9 col-md-10 content\">\n    <h1>Add an Alert</h1>\n\n    <form class=\"form-horizontal\" name=\"addQuickAlertForm\" role=\"form\">\n      <div class=\"form-group\">\n        <label class=\"col-md-4 control-label\">\n          Fire when metric is\n        </label>\n\n        <div id=\"alert-radio-container\" class=\"col-md-4\">\n          <label class=\"radio-inline\">\n            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"LT\"> <\n          </label>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"GT\"> >\n          </label>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"LTE\"> <=\n          </label>\n          <label class=\"radio-inline\">\n            <input type=\"radio\" ng-model=\"quickTrigger.operator\" class=\"radio\" value=\"GTE\"> >=\n          </label>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <label class=\"col-md-4 control-label\" for=\"threshold\">\n          Of threshold\n        </label>\n\n        <div class=\"col-md-2\">\n          <input type=\"number\" id=\"threshold\" ng-model=\"quickTrigger.threshold\" class=\"form-control\"\n                 ng-minlength=\"1\" required>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <label class=\"col-md-4 control-label\" for=\"actions\">\n          Notify to:\n        </label>\n\n        <div class=\"col-md-3\">\n          <ui-select id=\"actions\" multiple ng-model=\"quickTrigger.actions\" theme=\"bootstrap\"\n                     ng-disabled=\"disabled\" close-on-select=\"false\">\n            <ui-select-match placeholder=\"Select action...\">{{$item}}</ui-select-match>\n            <ui-select-choices repeat=\"action in actions | filter:$select.search\">\n              {{ action }}\n            </ui-select-choices>\n          </ui-select>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <div class=\"col-md-offset-4 col-md-6\">\n          <button class=\"btn btn-primary\" ng-click=\"qac.saveQuickAlert()\">Create Alert</button>\n          <button type=\"button\" class=\"btn btn-default\" ng-click=\"qac.toggleQuickAlert()\">Cancel</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n");
$templateCache.put("plugins/metrics/html/home.html","<div class=\"row\" ng-controller=\"HawkularMetrics.OverviewController as vm\">\n  <div class=\"col-md-12\">\n    <h1>Home Page (when url exists)</h1>\n  </div>\n</div>\n");
$templateCache.put("plugins/metrics/html/response-time.html","<div ng-controller=\"MetricsViewController as vm\">\n\n  <div class=\"col-sm-9 col-md-10 content\">\n\n    <div class=\"well\" id=\"control-bar\">\n            <span class=\"col-md-3 col-sm-4 select-url-container\">\n                <select class=\"form-control input-sm select-url\" ng-model=\"vm.selectedResource\"\n                        ng-options=\"rs.parameters.url for rs in vm.resourceList\"></select>\n            </span>\n            <span id=\"date-range-container\" class=\"col-md-3 col-sm-2 pull-right\">\n                <span id=\"date-range\" class=\"input-group input-group-sm\">\n                    <input type=\"text\" class=\"form-control input-sm\" value=\"{{vm.dateRange}}\" readonly>\n                </span>\n            </span>\n    </div>\n    <div ng-switch=\"vm.isResponseTab\">\n      <h1 ng-switch-when=\"true\">Response Time</h1>\n\n      <h1 ng-switch-when=\"false\">Responsiveness </h1>\n    </div>\n\n    <p class=\"update-info pull-right\"><i class=\"fa fa-refresh\"></i>\n      <a ng-click=\"vm.refreshChartDataNow(vm.getMetricId())\">Last update 1 minutes ago</a>\n    </p>\n    <ul class=\"nav nav-tabs nav-tabs-pf\">\n      <li ng-class=\"{\'active\': vm.isResponseTab}\"><a href=\"#\" ng-click=\"vm.responseTabClick()\">Response Time</a></li>\n      <li ng-class=\"{\'active\': !vm.isResponseTab}\"><a href=\"#\" ng-click=\"vm.responseTabClick()\">Responsiveness</a></li>\n    </ul>\n    <div id=\"metrics-chart-container\" ng-switch=\"vm.chartData.dataPoints.length > 1\">\n      <p class=\"label label-info\" ng-switch-when=\"false\" style=\"margin-bottom: 25px;\">We are collecting your\n        initial data. Please be patient(could be up to a minute)...</p>\n\n      <div id=\"metrics-chart\" ng-switch-when=\"true\">\n        <!-- HINT: colors for the chart can be changed in the hawkular-charts.css -->\n        <hawkular-chart\n          data=\"{{vm.chartData.dataPoints}}\"\n          chart-type=\"{{vm.getChartType()}}\"\n          show-avg-line=\"false\"\n          alert-value=\"600\"\n          hide-high-low-values=\"true\"\n          y-axis-units=\"{{vm.getYAxisUnits()}}\"\n          chart-title=\"Monitored Resource: {{vm.selectedResource.parameters.url}}\"\n          chart-height=\"250\">\n        </hawkular-chart>\n      </div>\n    </div>\n\n  </div>\n\n  <ng-include src=\"\'plugins/metrics/html/create-alert-form.html\'\"></ng-include>\n\n</div>\n\n\n");
$templateCache.put("plugins/metrics/html/up-downtime.html","<div class=\"row\" ng-controller=\"HawkularMetrics.OverviewController as vm\">\n  <div class=\"col-md-12\">\n    <h1>Availability</h1>\n  </div>\n</div>\n");}]); hawtioPluginLoader.addModule("hawkular-ui-components-metrics-templates");